---
title: Users API
description: Create, retrieve, update, and delete user accounts
---

import { Tabs, TabItem, Code, Aside } from '@astrojs/starlight/components';

The Users API enables you to manage user accounts programmatically using standard REST operations.

## Base URL

```
https://api.example.com/v2
```

## Authentication

All requests require a valid API key in the Authorization header:

```http
Authorization: Bearer YOUR_API_KEY
```

---

## Create User

Creates a new user account with the specified attributes.

### Endpoint

```http
POST /users
```

### Request Body

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `email` | string | Yes | User's email address (must be unique) |
| `firstName` | string | Yes | User's first name |
| `lastName` | string | Yes | User's last name |
| `role` | string | No | User role: `admin`, `user`, or `guest`. Default: `user` |
| `department` | string | No | User's department identifier |

### Example Request

<Tabs>
  <TabItem label="cURL">
    ```bash
    curl -X POST https://api.example.com/v2/users \
      -H "Authorization: Bearer abc123xyz789" \
      -H "Content-Type: application/json" \
      -d '{
        "email": "john.doe@example.com",
        "firstName": "John",
        "lastName": "Doe",
        "role": "user",
        "department": "engineering"
      }'
    ```
  </TabItem>
  
  <TabItem label="JavaScript">
    ```javascript
    const response = await fetch('https://api.example.com/v2/users', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer abc123xyz789',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        email: 'john.doe@example.com',
        firstName: 'John',
        lastName: 'Doe',
        role: 'user',
        department: 'engineering'
      })
    });
    
    const user = await response.json();
    console.log(user);
    ```
  </TabItem>
  
  <TabItem label="Python">
    ```python
    import requests
    
    response = requests.post(
        'https://api.example.com/v2/users',
        headers={
            'Authorization': 'Bearer abc123xyz789',
            'Content-Type': 'application/json'
        },
        json={
            'email': 'john.doe@example.com',
            'firstName': 'John',
            'lastName': 'Doe',
            'role': 'user',
            'department': 'engineering'
        }
    )
    
    user = response.json()
    print(user)
    ```
  </TabItem>
</Tabs>

### Success Response (201 Created)

```json
{
  "userId": "usr_7k3m2n9p",
  "email": "john.doe@example.com",
  "firstName": "John",
  "lastName": "Doe",
  "role": "user",
  "department": "engineering",
  "status": "active",
  "createdAt": "2025-10-19T14:32:15Z"
}
```

### Error Responses

| Status Code | Description | Example Response |
|-------------|-------------|------------------|
| 400 Bad Request | Invalid or missing required fields | `{"error": "EMAIL_INVALID", "message": "Email address format is invalid"}` |
| 409 Conflict | Email already exists | `{"error": "EMAIL_EXISTS", "message": "A user with this email already exists"}` |
| 401 Unauthorized | Missing or invalid API key | `{"error": "UNAUTHORIZED", "message": "Invalid API key"}` |

---

## Retrieve User

Retrieves details for a specific user by their user ID.

### Endpoint

```http
GET /users/{userId}
```

### Path Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `userId` | string | Yes | Unique identifier for the user |

### Example Request

<Tabs>
  <TabItem label="cURL">
    ```bash
    curl -X GET https://api.example.com/v2/users/usr_7k3m2n9p \
      -H "Authorization: Bearer abc123xyz789"
    ```
  </TabItem>
  
  <TabItem label="JavaScript">
    ```javascript
    const response = await fetch(
      'https://api.example.com/v2/users/usr_7k3m2n9p',
      {
        headers: {
          'Authorization': 'Bearer abc123xyz789'
        }
      }
    );
    
    const user = await response.json();
    ```
  </TabItem>
  
  <TabItem label="Python">
    ```python
    response = requests.get(
        'https://api.example.com/v2/users/usr_7k3m2n9p',
        headers={'Authorization': 'Bearer abc123xyz789'}
    )
    
    user = response.json()
    ```
  </TabItem>
</Tabs>

### Success Response (200 OK)

```json
{
  "userId": "usr_7k3m2n9p",
  "email": "john.doe@example.com",
  "firstName": "John",
  "lastName": "Doe",
  "role": "user",
  "department": "engineering",
  "status": "active",
  "createdAt": "2025-10-19T14:32:15Z",
  "lastLogin": "2025-10-19T15:45:22Z"
}
```

---

## Update User

Updates one or more attributes for an existing user.

<Aside type="tip">
  Only include fields you want to update. Omitted fields remain unchanged.
</Aside>

### Endpoint

```http
PATCH /users/{userId}
```

### Request Body (all fields optional)

| Parameter | Type | Description |
|-----------|------|-------------|
| `firstName` | string | User's first name |
| `lastName` | string | User's last name |
| `role` | string | User role: `admin`, `user`, or `guest` |
| `department` | string | User's department identifier |
| `status` | string | Account status: `active`, `suspended`, or `inactive` |

### Example Request

<Tabs>
  <TabItem label="JavaScript">
    ```javascript
    const response = await fetch(
      'https://api.example.com/v2/users/usr_7k3m2n9p',
      {
        method: 'PATCH',
        headers: {
          'Authorization': 'Bearer abc123xyz789',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          role: 'admin',
          department: 'operations'
        })
      }
    );
    
    const updatedUser = await response.json();
    ```
  </TabItem>
  
  <TabItem label="Python">
    ```python
    response = requests.patch(
        'https://api.example.com/v2/users/usr_7k3m2n9p',
        headers={
            'Authorization': 'Bearer abc123xyz789',
            'Content-Type': 'application/json'
        },
        json={
            'role': 'admin',
            'department': 'operations'
        }
    )
    ```
  </TabItem>
</Tabs>

---

## Delete User

Permanently deletes a user account.

<Aside type="caution">
  This action cannot be undone. Consider using the `status` field to deactivate accounts instead.
</Aside>

### Endpoint

```http
DELETE /users/{userId}
```

### Example Request

<Tabs>
  <TabItem label="cURL">
    ```bash
    curl -X DELETE https://api.example.com/v2/users/usr_7k3m2n9p \
      -H "Authorization: Bearer abc123xyz789"
    ```
  </TabItem>
  
  <TabItem label="JavaScript">
    ```javascript
    await fetch('https://api.example.com/v2/users/usr_7k3m2n9p', {
      method: 'DELETE',
      headers: {
        'Authorization': 'Bearer abc123xyz789'
      }
    });
    ```
  </TabItem>
</Tabs>

### Success Response (204 No Content)

No response body returned.

---

## List Users

Retrieves a paginated list of all users with optional filtering.

### Endpoint

```http
GET /users
```

### Query Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `limit` | integer | No | Number of results per page (1-100). Default: 20 |
| `offset` | integer | No | Number of results to skip. Default: 0 |
| `role` | string | No | Filter by role: `admin`, `user`, or `guest` |
| `status` | string | No | Filter by status: `active`, `suspended`, or `inactive` |
| `department` | string | No | Filter by department identifier |

### Example Request

```bash
curl -X GET "https://api.example.com/v2/users?limit=10&role=admin" \
  -H "Authorization: Bearer abc123xyz789"
```

### Success Response (200 OK)

```json
{
  "users": [
    {
      "userId": "usr_7k3m2n9p",
      "email": "john.doe@example.com",
      "firstName": "John",
      "lastName": "Doe",
      "role": "admin",
      "status": "active"
    }
  ],
  "pagination": {
    "total": 47,
    "limit": 10,
    "offset": 0,
    "hasMore": true
  }
}
```

---

## Next Steps

- Learn about [Authentication](/api/authentication/)
- Understand [Rate Limiting](/api/rate-limiting/)
- Review [Error Handling](/api/errors/)
- See [Best Practices](/api/best-practices/)